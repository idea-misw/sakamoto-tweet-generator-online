{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["vocabs","vocab_advent19","vocab_advent20","graphs","graph_advent19","graph_advent20","getRandomIntWeighted","weights","sum","min","max","cumsum","map","value","randomInt","length","Math","ceil","floor","random","filter","getWeights","vocabIndex","vocab","graph","Array","fill","nextVocabIndices","i","Description","props","className","RadioLabel","prop","article","type","id","name","onChange","htmlFor","label","RadioForm","radioLabels","index","WordItem","word","WordList","wordItems","words","Generator","sampleClassName","resetClassName","onClick","onClickSample","onClickReset","LinkItem","link","href","url","title","LinkList","linkItems","links","Links","App","state","event","target","this","setState","bigram","indexOf","concat","handleChange","handleSample","handleReset","React","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Header","Footer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b7631cdc.chunk.js","sourcesContent":["import React from 'react';\n// import logo from './logo.svg';\nimport './App.css';\n\n// function App() {\n//   return (\n//     <div className=\"App\">\n//       <header className=\"App-header\">\n//         <img src={logo} className=\"App-logo\" alt=\"logo\" />\n//         <p>\n//           Edit <code>src/App.js</code> and save to reload.\n//         </p>\n//         <a\n//           className=\"App-link\"\n//           href=\"https://reactjs.org\"\n//           target=\"_blank\"\n//           rel=\"noopener noreferrer\"\n//         >\n//           Learn React\n//         </a>\n//       </header>\n//     </div>\n//   );\n// }\n\nimport vocab_advent19 from './Hke7xT6Tr.vocab.json';\nimport graph_advent19 from './Hke7xT6Tr.graph.json';\nimport vocab_advent20 from './ryqcvcfjD.vocab.json';\nimport graph_advent20 from './ryqcvcfjD.graph.json';\n\nconst vocabs = {\n  'advent19': vocab_advent19,\n  'advent20': vocab_advent20\n};\nconst graphs = {\n  'advent19': graph_advent19,\n  'advent20': graph_advent20\n};\n\nfunction getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\nfunction getRandomIntWeighted(weights) {\n  var cumsum = weights.map((sum => value => sum += value)(0));\n  var randomInt = getRandomInt(0, cumsum[cumsum.length - 1]);\n  return cumsum.filter(value => value <= randomInt).length;\n}\n\nfunction getWeights(vocabIndex, vocab, graph) {\n  var weights = Array(vocab.length).fill(0);\n  var nextVocabIndices = graph[vocabIndex];\n  for (var i = 0; i < nextVocabIndices.length; i++) {\n    weights[nextVocabIndices[i][0]] = nextVocabIndices[i][1];\n  }\n  return weights;\n}\n\nfunction Description(props) {\n  return (\n    <div className=\"description\">\n      <h3>サカモトさんのツイートをジェネレート！</h3>\n      <div className=\"paragraphs\">\n        <p className=\"paragraph\">\n          あのサカモトツイートジェネレータがついにオンラインで登場します。\n        </p>\n        <p className=\"paragraph\">\n          せっかくのジェネレータを手軽に試してみたい、という声が寄せられたり寄せられなかったりしました。\n          そこで今回はツイートに代わって記事を学習。\n          例によってサカモトっぽい文を生成してくれます。\n        </p>\n        <p className=\"paragraph\">\n          これであなたもサカモトに・・・。\n        </p>\n      </div>\n    </div>\n  )\n}\n\nfunction RadioLabel(prop) {\n  const article = prop.article;\n  return (\n    <div className=\"radio-label\">\n      <input type=\"radio\" id={article.value} name=\"article\" value={article.value} onChange={prop.onChange} />\n      <label htmlFor={article.value}>\n        {article.label}\n      </label>\n    </div>\n  )\n}\n\nfunction RadioForm(prop) {\n  const articles = [\n    {\n      value: 'advent19',\n      label: 'アドカレ2019',\n    },\n    {\n      value: 'advent20',\n      label: 'アドカレ2020',\n    }\n  ]\n  const radioLabels = articles.map((article, index) =>\n    <RadioLabel key={index} article={article} onChange={prop.onChange} />\n  );\n  return (\n    <form className=\"radio-form\">\n      学習記事選択:\n      {radioLabels}\n    </form>\n  );\n}\n\nfunction WordItem(props) {\n  const word = props.word;\n  const className = \"word-item\" + (word === 'EOS' ? \" word-item--eos-token\" : \"\");\n  return (\n    <li className={className}>\n      {word}\n    </li>\n  );\n}\n\nfunction WordList(props) {\n  const words = props.words;\n  const wordItems = words.map((word, index) =>\n    <WordItem key={index} word={word} />\n  );\n  return (\n    <ul className=\"word-list\">\n      {wordItems}\n    </ul>\n  );\n}\n\nfunction Generator(props) {\n  const article = props.article;\n  const sampleClassName = \"button\" + (article === '' || props.words[props.words.length - 1] === 'EOS' ? \"\" : \" button--active\");\n  const resetClassName = \"button\" + (article === '' ? \"\" : \" button--active\");\n  return (\n    <div className=\"generator\">\n      <RadioForm onChange={props.onChange} />\n      <div className=\"buttons\">\n        <button className={sampleClassName} onClick={props.onClickSample}>\n          サンプル\n        </button>\n        <button className={resetClassName} onClick={props.onClickReset}>\n          リセット\n        </button>\n      </div>\n      <WordList words={props.words} />\n    </div>\n  );\n}\n\nfunction LinkItem(props) {\n  const link = props.link;\n  return (\n    <li className=\"link-item\">\n      <a className=\"link-link\" href={link.url}>\n        {link.title}\n      </a>\n    </li>\n  );\n}\n\nfunction LinkList(props) {\n  const links = props.links;\n  const linkItems = links.map((link, index) =>\n    <LinkItem key={index} link={link} />\n  );\n  return (\n    <ul className=\"link-list\">\n      {linkItems}\n    </ul>\n  );\n}\n\nfunction Links(props) {\n  const links = [\n    {\n      url: 'https://idea-misw.hatenablog.com/entry/2020/12/16/000000',\n      title: '【再掲】サカモトツイートジェネレータ - 洞窟の比喩',\n    },\n    {\n      url: 'https://github.com/ku-nlp/python-textformatting',\n      title: 'ku-nlp/python-textformatting'\n    },\n    {\n      url: 'https://pypi.org/project/zenhan/',\n      title: 'zenhan · PyPI'\n    },\n    {\n      url: 'https://nlp.ist.i.kyoto-u.ac.jp/?JUMAN%2B%2B',\n      title: 'JUMAN++ - KUROHASHI-CHU-MURAWAKI LAB'\n    },\n    {\n      url: 'https://hackmd.io/@kA0OlUhGRNmJkK7Nnx4QaQ/Hke7xT6Tr',\n      title: '【提案】自分の側に『推し』がいたら人類は最強になるんじゃないの？ - HackMD'\n    },\n    {\n      url: 'https://hackmd.io/@kA0OlUhGRNmJkK7Nnx4QaQ/ryqcvcfjD',\n      title: 'もちもちハム祭り2020 インターネットスペシャル - HackMD'\n    }\n  ];\n  return (\n    <div className=\"links\">\n      <h3>関連リンク</h3>\n      <LinkList links={links} />\n    </div>\n  );\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      article: '',\n      vocab: [],\n      graph: [],\n      vocabIndex: 0,\n      weights: [],\n      words: []\n    };\n  }\n\n  handleChange(event) {\n    var article = event.target.value;\n    var vocab = vocabs[article];\n    var graph = graphs[article];\n    var weights = getWeights(0, vocab, graph)\n    this.setState({\n      article: article,\n      vocab: vocab,\n      graph: graph,\n      vocabIndex: 0,\n      weights: weights,\n      words: []\n    });\n  }\n\n  handleSample() {\n    if (this.state.article === '') {\n      return;\n    }\n    if (this.state.words[this.state.words.length - 1] === 'EOS') {\n      return;\n    }\n    var bigram = this.state.vocab[getRandomIntWeighted(this.state.weights)];\n\n    var word = bigram[1];\n    var vocabIndex = this.state.vocab.indexOf(bigram);\n    var weights = getWeights(vocabIndex, this.state.vocab, this.state.graph);\n\n    this.setState({\n      article: this.state.article,\n      vocab: this.state.vocab,\n      graph: this.state.graph,\n      vocabIndex: vocabIndex,\n      weights: weights,\n      words: this.state.words.concat(word)\n    });\n  }\n\n  handleReset() {\n    if (this.state.article === '') {\n      return;\n    }\n    this.setState({\n      article: this.state.article,\n      vocab: this.state.vocab,\n      graph: this.state.graph,\n      vocabIndex: 0,\n      weights: getWeights(0, this.state.vocab, this.state.graph),\n      words: []\n    });\n  }\n\n  render() {\n    return (\n      <main>\n        <div className=\"container\">\n          <Description />\n          <Generator\n            article={this.state.article}\n            words={this.state.words}\n            onChange={(event) => this.handleChange(event)}\n            onClickSample={() => this.handleSample()}\n            onClickReset={() => this.handleReset()}\n          />\n          <Links />\n        </div>\n      </main>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './reset.css';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nfunction Header() {\n  return (\n    <header>\n      <div className=\"container\">\n        <h1 className=\"title\">サカモトツイートジェネレータオンライン</h1>\n      </div>\n    </header>\n  )\n}\n\nfunction Footer() {\n  return (\n    <footer>\n      <div className=\"container\">\n        <p className=\"copyright\">© 2021 ΙΔΈΑ</p>\n      </div>\n    </footer>\n  )\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Header />\n    <App />\n    <Footer />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}